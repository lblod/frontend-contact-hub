<div class="au-c-body-container au-c-body-container--scroll">
  <div class="au-o-box au-o-flow au-o-flow--large">
    <PageHeader>
      <:title>Contact gegevens</:title>
      <:subtitle>
        {{@model.person.givenName}}
        {{@model.person.familyName}}
      </:subtitle>
      <:action>
        <SecuredArea>
          <:edit>
            <AuLink
              @route="people.person.personal-information.edit"
              @skin="button-secondary"
              @icon="pencil"
              @iconAlignment="left"
            >
              Bewerk
            </AuLink>
          </:edit>
          <:read-only>
            <ReportWrongData />
          </:read-only>
        </SecuredArea>
      </:action>
    </PageHeader>

    <DataCard>
      <:title>Persoonlijke gegevens</:title>
      <:card as |Card|>
        <Card.Columns>
          <:left as |Item|>
            <Item>
              <:label>Voornaam</:label>
              <:content>{{@model.person.givenName}}</:content>
            </Item>
            <Item>
              <:label>Achternaam</:label>
              <:content>{{@model.person.familyName}}</:content>
            </Item>
            {{#if @model.person.firstNameUsed}}
              <Item>
                <:label>Roepnaam</:label>
                <:content>{{@model.person.firstNameUsed}}</:content>
              </Item>
            {{/if}}
          </:left>
        </Card.Columns>
      </:card>
    </DataCard>
    {{#each @model.contacts as |contact|}}
      <DataCard>
        <:title>Contactgegevens:
          {{contact.title}}
        </:title>
        <:card as |Card|>
          <Card.Columns>
            <:left as |Item|>
              <Item>
                <:label>Organisatie</:label>
                <:content>
                  <AuLink
                    @model={{contact.administrativeUnit.id}}
                    @route="administrative-units.administrative-unit"
                  >
                    {{contact.administrativeUnit.name}}
                  </AuLink>
                </:content>
              </Item>
              {{#if contact.primaryContact.email}}
                <Item>
                  <:label>E-mail</:label>
                  <:content>
                    {{contact.primaryContact.email}}
                  </:content>
                </Item>
              {{/if}}
              {{#if contact.primaryContact.contactAddress.fullAddress}}
                <Item>
                  <:label>Adres</:label>
                  <:content>
                    {{contact.primaryContact.contactAddress.fullAddress}}
                  </:content>
                </Item>
              {{/if}}
              {{#if contact.primaryContact.contactAddress.province}}
                <Item>
                  <:label>Province</:label>
                  <:content>
                    {{contact.primaryContact.contactAddress.province}}
                  </:content>
                </Item>
              {{/if}}
            </:left>
            <:right as |Item|>
              {{#if contact.role}}
                <Item>
                  <:label>Positie</:label>
                  <:content>
                    {{#if (eq contact.type "minister")}}
                      <AuLink
                        @route="people.person.positions.minister"
                        @models={{array @model.person.id contact.id}}
                      >
                        {{contact.role}}
                      </AuLink>

                    {{else}}

                      <AuLink
                        @route="people.person.positions.mandatory"
                        @models={{array @model.person.id contact.id}}
                      >
                        {{contact.role}}
                      </AuLink>
                    {{/if}}
                  </:content>
                </Item>
              {{/if}}

              {{#if contact.primaryContact.telephone}}
                <Item>
                  <:label>Primair telefoonnummer</:label>
                  <:content>
                    {{contact.primaryContact.telephone}}
                  </:content>
                </Item>
              {{/if}}
              {{#if contact.secondaryContact.telephone}}
                <Item>
                  <:label>Secundair telefoonnummer</:label>
                  <:content>
                    {{contact.secondaryContact.telephone}}
                  </:content>
                </Item>
              {{/if}}
            </:right>
          </Card.Columns>
        </:card>
      </DataCard>
    {{/each}}
    {{!-- todo when posities list pages is finished, uncomment this}}
      <div class="flex items-start">
        <span class="au-u-muted au-u-italic">
          {{@model.person.givenName}}
          {{@model.person.familyName}}
          heeft geen andere posities. Om alle posities (ook niet active) te
          bekijken, ga naar&nbsp;</span>
        <AuLink @model={{@model.person}} @route="people.person.positions">
          Posities
        </AuLink>
      </div>
    {{--}}
  </div>
</div>