<PageHeader class="au-o-box">
  <:title>Contactgegevens</:title>
  <:subtitle>{{@model.person.givenName}} {{@model.person.familyName}}</:subtitle>
  <:alert>
    <AuAlert @alertIcon="info-circle" @alertskin="info" @alertsize="small" class="au-u-margin-bottom-small au-u-margin-top-small">
      <p>Momenteel kan u de contactgegevens enkel bewerken via het bestuursorgaan waar de persoon een positie heeft.</p>
    </AuAlert>
  </:alert>
</PageHeader>

<AuDataTable @content={{@model.positions}} @noDataMessage="Geen contactgegevens" as |t|>
  <t.content as |c|>
    <c.header>
      <th class="au-c-data-table__header-title">Positie</th>
      <th class="au-c-data-table__header-title">Organisatie</th>
      <th class="au-c-data-table__header-title">Email</th>
      <th class="au-c-data-table__header-title">Telefoonnummer</th>
      <th class="au-c-data-table__header-title">Adres</th>
      {{!-- <th></th> --}}
    </c.header>
    <c.body as |mandatory|>
      <td>
        <AuLink
          @route="people.person.positions.mandatory"
          @model={{mandatory.id}}
        >
          {{mandatory.mandate.roleBoard.label}}
        </AuLink>
      </td>
      <td>
        {{#let mandatory.mandate.governingBody.isTimeSpecializationOf.administrativeUnit as |administrativeUnit|}}
          {{#if administrativeUnit}}
            <AuLink
              @route="administrative-units.administrative-unit"
              @model={{administrativeUnit.id}}
            >
              {{administrativeUnit.name}}
            </AuLink>
          {{/if}}
        {{/let}}
      </td>
      <td>
        {{mandatory.contacts.firstObject.email}}
      </td>
      <td>
        {{mandatory.contacts.firstObject.telephone}}
      </td>
      <td>
        {{mandatory.contacts.firstObject.contactAddress.fullAddress}}
      </td>
      {{!-- <td>
        TODO Replace this with the correct route
        <AuLink
          @route="people.person.contacts"
        >Bewerk</AuLink>
      </td> --}}
    </c.body>
  </t.content>
</AuDataTable>