<DataCard>
  <:title>Heeft relatie met</:title>
  <:card as |Card|>
    <Card.Columns>
      <:left as |Item|>
        <Item>
          <:label>
            Provincie
          </:label>
          <:content>
            <AuLink @route="administrative-units.administrative-unit" @model={{@model.isSubOrganizationOf.isSubOrganizationOf.id}}>
              {{@model.isSubOrganizationOf.isSubOrganizationOf.name}}
            </AuLink>
          </:content>
        </Item>
        <Item>
          <:label>Gemeente</:label>
          <:content>
            <AuLink @route="administrative-units.administrative-unit.core-data" @model={{@model.isSubOrganizationOf.id}}>
              {{@model.isSubOrganizationOf.name}}
            </AuLink>
          </:content>
        </Item>
      </:left>
    </Card.Columns>
  </:card>
</DataCard>

<div>
  <AuDataTable 
    id="relatedOrganizations"
    @content={{@model.relatedOrganizations}}
    @page={{@page}}
    @size={{@size}}
    @noDataMessage="Geen bestuur" as |t|>
    <t.menu as |menu|>
      <menu.general>
        <div class="au-o-grid au-u-margin-bottom-tiny">
          <div class="au-o-grid__item au-u-1-2@medium au-u-1-1@small">
            <AuToggleSwitch
              @label="Verberg niet actieve organisaties"
              @checked={{@organizationStatus}}
            />
          </div>
          <div class="au-o-grid__item au-u-1-2@medium au-u-1-1@small">
            <RelationTypeSelect
              @selected={{@selectedRelationType}}
              @onChange={{@setFilterRelationType}}
              @allowClear={{true}}
              id="relation-type"
            />
          </div>
        </div>
      </menu.general>
    </t.menu>
    <t.content as |c|>
      <c.header>
        <AuDataTableThSortable @field="relationType" @label="Type relatie" @currentSorting={{@sort}} />
        <AuDataTableThSortable @field="classification.label" @label="Type organisatie" @currentSorting={{@sort}} />
        <AuDataTableThSortable @field="name" @label="Organisatie" @currentSorting={{@sort}} />
        <AuDataTableThSortable @field="organizationStatus.label" @label="Status" @currentSorting={{@sort}} />
      </c.header>
      <c.body as |organization|>
        <td>
          {{organization.relationType}}
        </td>
        <td>
          {{organization.classification.label}}
        </td>
        <td>
          <AuLink @route="administrative-units.administrative-unit" @model={{organization.opUuid}}>
            {{organization.name}}
          </AuLink>
        </td>
        <td>
          <OrganizationStatus @id={{organization.organizationStatus.id}}
            @label={{organization.organizationStatus.label}} />
        </td>
      </c.body>
    </t.content>
  </AuDataTable>
</div>
